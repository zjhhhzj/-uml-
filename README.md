# UML

通过 UML 视图令设计模式不再抽象，UXF 文件使用 UMLet 等工具查看。

## **行为型模式**
- 关注对象的行为或交互。
- 主要涉及算法和对象之间的职责分配。
- 通过对象组合，描述一组对象如何协作完成整体任务。

**模式列表：**
- 模板方法（Template Method）模式
- 策略（Strategy）模式
- 观察者（Observer）模式
- 命令（Command）模式
- 迭代器（Iterator）模式
- 状态（State）模式
- 中介者（Mediator）模式
- 备忘录（Memento）模式
- 职责链（Chain Of Responsibility）模式
- 访问者（Visitor）模式
- 解释器（Interpreter）模式

---

## **创建型模式**
- 关注如何创建对象。
- 核心思想是将对象的创建和使用分离（解耦）。
- 旨在解决传统对象创建方式可能导致的代码修改和维护问题。

**模式列表：**
- 简单工厂（Simple Factory）模式
- 工厂方法（Factory Method）模式
- 抽象工厂（Abstract Factory）模式
- 原型（Prototype）模式
- 建造者（Builder）模式
- 单件（Singleton）模式

---

## **结构型模式**
- 关注对象之间的关系。
- 主要涉及如何组合各种对象以获得更灵活的结构。
- 不仅使用继承，还通过各种关系组合来简化设计。

**模式列表：**
- 装饰（Decorator）模式
- 外观（Facade）模式
- 组合（Composite）模式
- 享元（Flyweight）模式
- 代理（Proxy）模式
- 适配器（Adapter）模式
- 桥接（Bridge）模式

---

## **1. UML 图的基本元素**

### **1.1 类**
类的表示：用一个矩形框表示，分为三部分：
1. **类名**：在矩形的顶部，字体加粗。
2. **属性**：在中间部分，列出类的属性。
3. **方法**：在底部部分，列出类的方法。

```text
-----------------
|     类名       |
-----------------
| 属性1 : 类型   |
| 属性2 : 类型   |
-----------------
| 方法1(参数): 返回类型 |
| 方法2(参数): 返回类型 |
-----------------
```

### 可见性修饰符

- `+` 表示 **public**
- `-` 表示 **private**
- `#` 表示 **protected**
- `~` 表示 **package/private**（在 Java 中）

### **1.2 接口（纯虚类）**
用斜体字表示接口名称，或者在类名前加上 <<interface>>。
接口中的方法不需要实现，只有方法签名。
```
------------------------
| <<interface>> IShape |
------------------------
| + draw() : void       |
| + area() : double     |
------------------------

```


### **1.3 抽象类**
抽象类的类名和方法用斜体字表示，或者在方法名前加 {abstract}。
抽象类的表示类似普通类，但包含抽象方法（未实现的方法）。
```
--------------------------------------
| Character                          |
--------------------------------------
| - life : int                       |
| - magic : int                      |
--------------------------------------
| + Burn() : void                    |
| + Effect_Enemy() : void {abstract} |
--------------------------------------
```

## **2. UML 图的关系表示**

### **2.1 继承（Generalization）**
表示类与类之间的继承关系。
使用一个带空心箭头的直线，箭头指向父类。

```text
-----------------           ----------------- 
|     类名       | ───────▷ |     类名      |
-----------------           -----------------
```


### **2.2 实现（Realization）**
表示类实现接口的关系。
使用一个带空心箭头的虚线，箭头指向接口。

```text
-----------------           ----------------- 
|     类名       | ─ ─ ─ ─▷ |     接口      |
-----------------           -----------------
```

### **2.3 关联（Association）**
表示类与类之间的引用关系。
使用一个带普通箭头的直线，箭头指向被引用的类。
可以在箭头旁边标注角色名和多重性
| 表示方式 | 多重性说明 |
|----------|-------------|
| `1..1`   | 表示另一个类的一个对象只与该类的一个对象有关系 |
| `0..*`   | 表示另一个类的一个对象与该类的零个或多个对象有关系 |
| `1..*`   | 表示另一个类的一个对象与该类的一个或多个对象有关系 |
| `0..1`   | 表示另一个类的一个对象没有或只与该类的一个对象有关系 |
| `m..n`   | 表示另一个类的一个对象与该类最少 `m`、最多 `n` 个对象有关系（`m <= n`） |

```text
-----------------           ----------------- 
|     类名       | ───────▶ |     类名      |
-----------------           -----------------
```

### **2.4 聚合（Aggregation）**
表示整体与部分的关系，部分可以独立存在。
使用一个带空心菱形的直线，菱形指向整体。
```text
-----------------           ----------------- 
|     整体       | ◇─────── |     部分      |
-----------------           -----------------
```

### **2.5 组合（Composition）**
表示整体与部分的关系，部分不能独立存在。
使用一个带实心菱形的直线，菱形指向整体。

```text
-----------------           ----------------- 
|     整体       | ◆─────── |     部分      |
-----------------           -----------------
```

### **2.6 依赖（Dependency）**
表示类与类之间的临时关系（如方法参数或局部变量）。
使用一个带普通箭头的虚线，箭头指向被依赖的类。

```text
-----------------           ----------------- 
|     类名       | ─ ─ ─ ─▶ |     类名      |
-----------------           -----------------
```